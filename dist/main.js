(()=>{"use strict";function e(e,t,n,o){const a={};return a.name=e,a.length=t,a.hits=n,a.sunken=o,a.hit=function(){a.hits+=1,a.isSunk()},a.isSunk=function(){return a.hits===a.length&&(a.sunken=!0),a.sunken},a}function t(e,t){const n={};n.isCpuBoard=e,n.allSunk=t,n.board=[];for(let e=0;e<10;e++){const e=[];for(let t=0;t<10;t++)e.push({hasShip:!1,isHit:!1});n.board.push(e)}return n.placeShip=function(e,t,o,a){let r=o.length;if(!(0===a&t+r>10||1===a&e+r>10))if(console.log("results: "+i(e,t,r,a)),i(e,t,r,a))alert("ship already there");else{let r=document.querySelector(`[data-row='${t}'][data-col='${e}']`);r.classList.add("has-ship");for(let i=0;i<o.length;i++)1===a&&(n.board[t][e+i].hasShip=!0,n.board[t][e+i].ship=o,r=document.querySelector(`[data-row='${t}'][data-col='${e+i}']`),r.classList.add("has-ship")),0===a&&(n.board[t+i][e].hasShip=!0,n.board[t+i][e].ship=o,r=document.querySelector(`[data-row='${t+i}'][data-col='${e}']`),r.classList.add("has-ship"))}function i(e,t,o,a){if(0===o)return console.log("End of the recursive, we hit a length of: "+o),!1;if(1===a&!1===n.board[t][e].hasShip)console.log([t],[e]),console.log("hasShip = "+n.board[t][e].hasShip),i(e+1,t,o-1,a);else{if(!(0===a&!1===n.board[t][e].hasShip))return console.log([t],[e]),console.log("hasShip = "+n.board[t][e].hasShip),console.log("End recursive because we hit another ship"),!0;console.log([t],[e]),console.log("hasShip = "+n.board[t][e].hasShip),i(e,t+1,o-1,a)}}},n.receiveAttack=function(e,t){e<0||e>=10||t<0||t>=10?alert("Please target the board"):n.board[e][t].isHit?alert("Cell already hit"):(n.board[e][t].isHit=!0,n.board[e][t].hasShip?(n.board[e][t].ship.hit(),console.log("Hit!")):console.log("Missed!"))},n}function n(e,t){const n={};return n.name=e,n.isCpu=t,n.turn=!1,n.switchTurn=function(){!0!==n.turn?n.turn=!0:n.turn=!1},n.attack=function(){if(t)return{xCord:Math.floor(10*Math.random()),yCord:Math.floor(10*Math.random())}},n}let o,a;!function(){const e=document.createElement("div");e.id="popupContainer",e.classList.add("popup-container"),document.body.appendChild(e);const t=document.createElement("div");t.classList.add("popup-content"),e.appendChild(t);const n=document.createElement("h2");n.textContent="Enter Your Name",t.appendChild(n);const a=document.createElement("input");a.type="text",a.id="nameInput",a.placeholder="Your Name",t.appendChild(a);const r=document.createElement("button");r.textContent="Next",r.id="nextBtn",t.appendChild(r),r.addEventListener("click",(()=>{o=a.value,e.style.display="none"}));const i=document.createElement("style");i.textContent="\n        .popup-container {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.5);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        }\n\n        .popup-content {\n        background-color: white;\n        padding: 20px;\n        border-radius: 5px;\n        }\n\n        .popup-content h2 {\n        margin-top: 0;\n        }\n\n        .popup-content input,\n        .popup-content button {\n        margin-top: 10px;\n        }\n    ",document.head.appendChild(i)}(),document.getElementById("displayBtn").addEventListener("click",(()=>{a=function(){const a={};return a.gameBoardHuman=t(!1,!1),a.gameBoardCpu=t(!0,!1),a.humanPlayer=n(o,!1),a.cpuPlayer=n("CPU",!0),a.carrier=e("Carrier",5,0,!1),a.battleship=e("Battleship",4,0,!1),a.cruiser=e("Cruiser",3,0,!1),a.submarine=e("Submarine",3,0,!1),a.destroyer=e("Destroyer",2,0,!1),a}(),function(e,t){const n=document.createElement("div");n.classList.add("gameboard");for(let t=0;t<e.length;t++){const o=document.createElement("div");o.classList.add("row");for(let n=0;n<e[t].length;n++){const e=document.createElement("div");e.classList.add("cell"),e.setAttribute("data-row",t),e.setAttribute("data-col",n),o.appendChild(e)}n.appendChild(o)}t.appendChild(n)}(a.gameBoardHuman.board,document.getElementById("gameboard1"))})),document.getElementById("attackBtn").addEventListener("click",(()=>{console.log(a),console.log(a.humanPlayer.name),a.gameBoardCpu.placeShip(0,5,a.carrier,0),a.gameBoardCpu.placeShip(0,3,a.carrier,0),a.gameBoardCpu.receiveAttack(a.cpuPlayer.attack().xCord,a.cpuPlayer.attack().yCord),console.log(a.gameBoardCpu.board)}))})();